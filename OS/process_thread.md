# Process & Thread

- 프로세스 process : 컴퓨터에서 실행되고 있는 프로그램, 프로그램이 메모리에 올라가 인스턴스화된 것
    - = CPU 스케줄링의 대상인 작업
    - 프로그램 : 특정한 작업을 수행하기 위한 명령어의 집합
    - OS로부터 독립된 메모리 영역을 할당받음
      > 코드 : 실행할 코드 (기계어)

      > 데이터 : 전역 변수, 정적 변수 등
        - 전역 변수, 정적 변수, 배열, 구조체 등의 저장 영역
        - 데이터 영역은 BSS : Block Stated Symbol과 데이터 영역으로 나눌 수 있음

      > 스택 : 사용자 동적 할당 
        - 지역변수, 함수의 매개변수 parameter, 반환되는 주소값 등을 저장
        - 높은 주소 값에서 낮은 주소 값으로 메모리 할당
        - 영역 크기는 컴파일 때 저장
        - 동적 메모리 할당 가능
        - LIFO
        - 힙 영역 침범 경우 스택 오버플로 stack overflow

      > 힙 : 지역 변수, 함수의 매개변수 등
        - 스택 영역과의 사이에 빈 메모리 공간이 존재
        - 낮은 주소 값에서 높은 주소 값 순서로 사용
        - FIFO
        - 스택 영역 침범 경우 힙 오버플로 heap overflow
    - 다른 프로세스의 메모리 영역에 접근 불가

- PCB ( Process Control Block ) : 운영체제에서 프로세스에 대한 메타데이터를 저장한 데이터
    - 프로세스 생성 시 PCB 생성
    - 일반 사용자가 접근하지 못하도록 함
    - 구조
        - 프로세스 스케줄링 상태
        - 프로세스 ID
        - 프로세스 권한
        - 프로그램 카운터
        - CPU 레지스터
        - CPU 스케줄링 정보
        - 계정 정보
        - I/O 상태 정보
    > 문맥 교환 (context switching) : PCB를 교환하는 과정
    - 프로세스에 할당된 시간이 끝났을 경우 / 인터럽트에 의해 발생
    - 프로세스 A를 실행 중 인터럽트 또는 시스템 콜 발생 시 A의 PCB를 저장, 이후 프로세스 B를 로드하여 실행
    - 문맥 교환 시 유휴 시간 idle time 발생

.

- 스레드 thread : 프로세스에서 실제로 실행되는 흐름의 단위
    - 프로세스가 갖는 한 개 이상의 흐름 단위
    - 프로세스의 실행 가능한 가장 작은 단위
    - 프로세스 내부에 존재
        - 프로세스의 메모리 공간 이용
        - 지역 변수 저장하는 스택 영역을 할당받음
        - 스택 영역만 독립적으로 사용, 코드 / 데이터 / 힙 영역은 모두 공유
    - 사용자 레벨 스레드와 커널 레벨 스레드로 구분

- TCB ( Thread Control Block ) : 스레드에 데한 메타데이터를 저장한 데이터